/*
 * Nextflow configuration for Pathway Subtyping Framework
 */

// Default process settings
process {
    // Use conda environment
    conda = "${projectDir}/../snakemake/environment.yaml"

    // Memory and CPU defaults
    memory = '4 GB'
    cpus   = 2
}

// Execution profiles
profiles {
    standard {
        process.executor = 'local'
    }

    conda {
        conda.enabled = true
        process.conda = "${projectDir}/../snakemake/environment.yaml"
    }

    docker {
        docker.enabled = true
        // Replace with your published image
        process.container = 'python:3.11-slim'
    }

    slurm {
        process.executor = 'slurm'
        process.queue    = 'normal'
        process.memory   = '8 GB'
        process.cpus     = 4
        process.time     = '2h'
    }
}

// Output and reports
report {
    enabled = true
    file    = "${params.outdir}/nextflow_report.html"
}

timeline {
    enabled = true
    file    = "${params.outdir}/nextflow_timeline.html"
}
